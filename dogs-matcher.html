<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>–ù–∞–π–¥–∏ –ø–∞—Ä—É: –•–æ–∑—è–∏–Ω –∏ –°–æ–±–∞–∫–∞</title>
  <style>
    * { box-sizing: border-box; }
    body {
      font-family: 'Segoe UI', sans-serif;
      background: linear-gradient(135deg, #fceabb, #f8b500);
      margin: 0;
      padding: 20px;
      text-align: center;
    }
    h1 {
      margin-bottom: 10px;
      font-size: 1.8em;
      color: #333;
    }
    #instruction {
      background: white;
      padding: 10px;
      border-radius: 10px;
      box-shadow: 0 0 10px rgba(0,0,0,0.1);
      margin-bottom: 20px;
    }
    #timer {
      font-weight: bold;
      margin-bottom: 10px;
    }
    .game-board {
      display: flex;
      flex-direction: row;
      justify-content: center;
      gap: 20px;
      flex-wrap: wrap;
    }
    .column {
      display: flex;
      flex-direction: column;
      gap: 12px;
      align-items: center;
    }
    .card {
      border: 3px solid transparent;
      border-radius: 12px;
      padding: 6px;
      background: white;
      box-shadow: 0 4px 8px rgba(0,0,0,0.1);
      cursor: pointer;
      transition: all 0.3s ease;
    }
    .card img {
      width: 90px;
      height: 90px;
      object-fit: cover;
      border-radius: 10px;
    }
    .selected { border-color: dodgerblue; transform: scale(1.05); }
    .correct { border-color: limegreen; animation: pulse 0.4s; }
    .wrong { border-color: crimson; animation: shake 0.4s; }

    @keyframes shake {
      0%, 100% { transform: translateX(0); }
      25% { transform: translateX(-5px); }
      75% { transform: translateX(5px); }
    }
    @keyframes pulse {
      0% { transform: scale(1); }
      50% { transform: scale(1.2); }
      100% { transform: scale(1); }
    }

    #message {
      margin: 15px auto;
      font-size: 1.2em;
      font-weight: bold;
    }
    #restartBtn {
      display: none;
      margin-top: 15px;
      padding: 10px 20px;
      font-size: 16px;
      background-color: #4CAF50;
      color: white;
      border: none;
      border-radius: 8px;
      cursor: pointer;
    }
    @media (max-width: 600px) {
      .game-board {
        flex-direction: column;
        align-items: center;
      }
    }
  </style>
</head>
<body>
<h1>–ù–∞–π–¥–∏ –ø–∞—Ä—É: –•–æ–∑—è–∏–Ω –∏ –°–æ–±–∞–∫–∞</h1>
<div id="instruction">–í—ã–±–µ—Ä–∏—Ç–µ –ø–æ–¥—Ö–æ–¥—è—â–∏–µ –ø–∞—Ä—ã: —Å–æ–±–∞–∫–∞ –∏ –µ—ë —Ö–æ–∑—è–∏–Ω. –ù–∞–π–¥–µ–Ω–Ω—ã–µ –ø–∞—Ä—ã –∏—Å—á–µ–∑–∞—é—Ç. –û—à–∏–±–∫–∞ ‚Äî +5 —Å–µ–∫—É–Ω–¥ –∫ —Ç–∞–π–º–µ—Ä—É. –£–¥–∞—á–∏!</div>
<div id="timer">‚è± –í—Ä–µ–º—è: 0 —Å–µ–∫—É–Ω–¥</div>
<div class="game-board">
  <div class="column" id="owners"></div>
  <div class="column" id="dogs"></div>
</div>
<p id="message"></p>
<button id="restartBtn" onclick="location.reload()">–°—ã–≥—Ä–∞—Ç—å —Å–Ω–æ–≤–∞</button>
<script>
  const totalPairs = 7;
  const pairs = [];
  for (let i = 1; i <= totalPairs; i++) {
    pairs.push({ owner: `img/owner${i}.jpeg`, dog: `img/dog${i}.jpeg`, id: i });
  }

  const owners = document.getElementById('owners');
  const dogs = document.getElementById('dogs');
  const message = document.getElementById('message');
  const restartBtn = document.getElementById('restartBtn');
  const timerDisplay = document.getElementById('timer');

  let selectedOwner = null;
  let selectedDog = null;
  let score = 0;
  let matchedCount = 0;
  let seconds = 0;
  let timerInterval = null;

  function startTimer() {
    timerInterval = setInterval(() => {
      seconds++;
      timerDisplay.textContent = `‚è± –í—Ä–µ–º—è: ${seconds} —Å–µ–∫—É–Ω–¥`;
    }, 1000);
  }

  function stopTimer() {
    clearInterval(timerInterval);
  }

  function createCard(src, type, id) {
    const card = document.createElement('div');
    card.className = 'card';
    card.dataset.type = type;
    card.dataset.id = id;
    const img = document.createElement('img');
    img.src = src;
    card.appendChild(img);
    card.addEventListener('click', () => selectCard(card));
    return card;
  }

  function shuffle(array) {
    for (let i = array.length - 1; i > 0; i--) {
      const j = Math.floor(Math.random() * (i + 1));
      [array[i], array[j]] = [array[j], array[i]];
    }
  }

  function renderGame() {
    const shuffledOwners = [...pairs];
    const shuffledDogs = [...pairs];
    shuffle(shuffledOwners);
    shuffle(shuffledDogs);

    shuffledOwners.forEach(p => owners.appendChild(createCard(p.owner, 'owner', p.id)));
    shuffledDogs.forEach(p => dogs.appendChild(createCard(p.dog, 'dog', p.id)));
    startTimer();
  }

  function resetSelections() {
    selectedOwner?.classList.remove('selected');
    selectedDog?.classList.remove('selected');
    selectedOwner = null;
    selectedDog = null;
  }

  function showFeedback(card1, card2, correct) {
    const cls = correct ? 'correct' : 'wrong';
    card1.classList.add(cls);
    card2.classList.add(cls);
    setTimeout(() => {
      card1.classList.remove(cls);
      card2.classList.remove(cls);
      if (!correct) resetSelections();
    }, 400);
  }

  function selectCard(card) {
    const type = card.dataset.type;
    if (type === 'owner') {
      if (selectedOwner) selectedOwner.classList.remove('selected');
      selectedOwner = card;
      card.classList.add('selected');
    } else {
      if (selectedDog) selectedDog.classList.remove('selected');
      selectedDog = card;
      card.classList.add('selected');
    }

    if (selectedOwner && selectedDog) {
      const ownerId = selectedOwner.dataset.id;
      const dogId = selectedDog.dataset.id;
      if (ownerId === dogId) {
        score++;
        matchedCount++;
        message.textContent = `‚úÖ –í–µ—Ä–Ω–æ! –°—á—ë—Ç: ${score}`;
        showFeedback(selectedOwner, selectedDog, true);
        setTimeout(() => {
          selectedOwner.remove();
          selectedDog.remove();
          resetSelections();
          if (matchedCount === totalPairs) {
            stopTimer();
            message.textContent = `üéâ –ü–æ–±–µ–¥–∞! –í—ã —É–≥–∞–¥–∞–ª–∏ –≤—Å–µ –ø–∞—Ä—ã –∑–∞ ${seconds} —Å–µ–∫—É–Ω–¥.`;
            restartBtn.style.display = 'inline-block';
          }
        }, 500);
      } else {
        seconds += 5;
        message.textContent = '‚ùå –ù–µ–≤–µ—Ä–Ω–æ. +5 —Å–µ–∫—É–Ω–¥. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–Ω–æ–≤–∞';
        showFeedback(selectedOwner, selectedDog, false);
      }
    }
  }

  renderGame();
</script>
</body>
</html>