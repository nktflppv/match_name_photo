<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>–ù–∞–π–¥–∏ –∏–º—è –∫ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏</title>
  <style>
    body {
      font-family: 'Segoe UI', sans-serif;
      background: #fff8dc;
      margin: 0;
      padding: 20px;
      text-align: center;
    }
    h1 {
      font-size: 1.8em;
      color: #333;
    }
    .game-board {
      display: flex;
      justify-content: center;
      flex-wrap: wrap;
      gap: 40px;
      margin-top: 20px;
    }
    .column {
      display: flex;
      flex-direction: column;
      gap: 12px;
    }
    .card, .label {
      padding: 8px;
      background: white;
      border-radius: 10px;
      box-shadow: 0 0 6px rgba(0,0,0,0.1);
      cursor: pointer;
      transition: 0.3s;
    }
    .card img {
      width: 100px;
      height: 100px;
      object-fit: cover;
      border-radius: 8px;
    }
    .selected { border: 2px solid dodgerblue; }
    .correct { border: 2px solid green; }
    .wrong { border: 2px solid red; }
    #message {
      margin-top: 15px;
      font-weight: bold;
    }
  </style>
</head>
<body>
<h1>–ù–∞–π–¥–∏ –∏–º—è –∫ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏</h1>
<p>–ö–ª–∏–∫–Ω–∏—Ç–µ –ø–æ —Ñ–æ—Ç–æ –∏ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–º—É –∏–º–µ–Ω–∏</p>
<div class="game-board">
  <div class="column" id="photos"></div>
  <div class="column" id="names"></div>
</div>
<p id="message"></p>
<script>
  const inputFolder = 'input_photos';
  const imageFilenames = [
    "–Æ—Ä–∞ –ì–∞–ª–∏—à–Ω–∏–∫–æ–≤.jpeg",
    "–Æ–ª—è –¶—É—Ä–∫–∞–Ω.jpeg",
    "–Æ–ª—è –ö–ª–∞–ø–∞—Ç—é–∫.jpeg",
    "–°–µ—Ä–µ–∂–∞ –ì—Ä–∏–≥–æ—Ä—å–µ–≤.jpeg",
    "–†–æ–º–∞ –Ø–Ω—Ü–µ—Ä.jpeg",
    "–ü–æ–ª–∏–Ω–∞ –î–æ–≤–Ω–æ—Ä–æ–≤–∏—á.jpeg",
    "–ù–∏–∫–∏—Ç–∞ –§–∏–ª–∏–ø–ø–æ–≤.jpeg",
    "–ù–∞—Ç–∞—à–∞ –ö—É—Ç—É–∫–æ–≤–∞.jpeg",
    "–ù–∞—Å—Ç—è –ö–∞–Ω–µ–≤–∞.jpeg",
    "–ù–∞—Å—Ç—è –ê–Ω–æ—Å–æ–≤–∞.jpeg",
    "–ú–∞—à–∞ –•–∞—Ä–ª–∞–º–æ–≤–∞.jpeg",
    "–ú–∞—à–∞ –û–≤—á–∏–Ω–Ω–∏–∫–æ–≤–∞.jpeg",
    "–ú–∞–∫—Å–∏–º –ú–∞—Ç–∏–µ–Ω–∫–æ.jpeg",
    "–ú–∞–∫—Å–∏–º –ê—Ä—Ç–µÃà–º–æ–≤.jpeg",
    "–õ—é–±–∞–≤–∞ –ö–∞—à–∏–Ω–∞.jpeg",
    "–ö—Å—é—à–∞ –ö—É—Ä–¥–∑—é–∫.jpeg",
    "–ö—Ä–∏—Å—Ç–∏–Ω–∞ –§–∏–ª–∏–ø–ø–æ–≤–∞.jpeg",
    "–ö—Ä–∏—Å—Ç–∏–Ω–∞ –§–∏–ª–∏–º–æ–Ω–æ–≤–∞.jpeg",
    "–ö–∏—Ä–∏–ª–ª –°—É—Ö–æ–≤.jpeg",
    "–ò–ª—å—è –õ–∞–∑–∞—Ä–µ–≤.jpeg",
    "–ï–≤–∞ –£—Å—Ç—é–≥–æ–≤–∞.jpeg",
    "–î–∞—à–∞ –î–æ—Ä–æ–Ω–∏–Ω–∞.jpeg",
    "–î–∞–Ω—è –ê–ª–µ–ø–µ–Ω–∫–æ–≤.jpeg",
    "–ì—É–∑—è –ì–∏–ª—å–º—É—Ç–¥–∏–Ω–æ–≤–∞.jpeg",
    "–í–∏–∫–∞ –ò–Ω—å–∫–æ–≤–∞.jpeg",
    "–ê—Ä–∏—à–∞ –ü–∞–Ω—á—É–ª.jpeg",
    "–ê–ª–µÃà–Ω–∞ –¢—Ä–µ—Ç—å—è–∫–æ–≤–∞.jpeg"
  ];

  const people = imageFilenames.map(name => name.replace(/\.jpe?g$/i, ''));

  const photos = document.getElementById('photos');
  const names = document.getElementById('names');
  const message = document.getElementById('message');

  let selectedPhoto = null;
  let selectedName = null;
  let matched = 0;

  function shuffle(array) {
    for (let i = array.length - 1; i > 0; i--) {
      const j = Math.floor(Math.random() * (i + 1));
      [array[i], array[j]] = [array[j], array[i]];
    }
  }

  function createPhotoCard(name) {
    const div = document.createElement('div');
    div.className = 'card';
    div.dataset.name = name;
    const img = document.createElement('img');
    img.src = `${inputFolder}/${name}.jpeg`;
    img.alt = name;
    div.appendChild(img);
    div.addEventListener('click', () => selectCard(div, 'photo'));
    return div;
  }

  function createNameLabel(name) {
    const div = document.createElement('div');
    div.className = 'label';
    div.textContent = name;
    div.dataset.name = name;
    div.addEventListener('click', () => selectCard(div, 'name'));
    return div;
  }

  function selectCard(el, type) {
    if (type === 'photo') {
      if (selectedPhoto) selectedPhoto.classList.remove('selected');
      selectedPhoto = el;
      el.classList.add('selected');
    } else {
      if (selectedName) selectedName.classList.remove('selected');
      selectedName = el;
      el.classList.add('selected');
    }

    if (selectedPhoto && selectedName) {
      const name1 = selectedPhoto.dataset.name;
      const name2 = selectedName.dataset.name;

      if (name1 === name2) {
        selectedPhoto.classList.add('correct');
        selectedName.classList.add('correct');
        selectedPhoto.style.pointerEvents = 'none';
        selectedName.style.pointerEvents = 'none';
        matched++;
        message.textContent = `‚úÖ –í–µ—Ä–Ω–æ: ${name1}`;
      } else {
        selectedPhoto.classList.add('wrong');
        selectedName.classList.add('wrong');
        message.textContent = `‚ùå –û—à–∏–±–∫–∞: —ç—Ç–æ –Ω–µ ${name1}`;
        setTimeout(() => {
          selectedPhoto.classList.remove('wrong', 'selected');
          selectedName.classList.remove('wrong', 'selected');
        }, 800);
      }

      selectedPhoto = null;
      selectedName = null;

      if (matched === people.length) {
        message.textContent = "üéâ –ò–≥—Ä–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞! –í—Å–µ –ø–∞—Ä—ã –Ω–∞–π–¥–µ–Ω—ã.";
      }
    }
  }

  shuffle(people);
  people.forEach(p => photos.appendChild(createPhotoCard(p)));
  shuffle(people);
  people.forEach(p => names.appendChild(createNameLabel(p)));
</script>
</body>
</html>
