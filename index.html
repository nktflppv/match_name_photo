<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>–ù–∞–π–¥–∏ –∏–º—è –∫ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏</title>
  <style>
    :root {
      --card-size: 140px;
    }
    *{box-sizing:border-box;padding:0;margin:0}
    body{
      font-family:'Segoe UI',sans-serif;
      background:#fff8dc;
      padding:20px;
      text-align:center;
    }
    h1{font-size:2rem;color:#333;margin-bottom:12px}
    p.subtitle{margin-bottom:20px;color:#444}

    /* —Ñ–æ—Ç–æ‚Äë—Å–µ—Ç */
    #photos{
      display:grid;
      grid-template-columns:repeat(auto-fit,minmax(var(--card-size),1fr));
      gap:18px;
      max-width:800px;
      margin:0 auto 24px;
    }
    .card{
      background:#fff;
      border-radius:16px;
      padding:8px;
      box-shadow:0 2px 6px rgba(0,0,0,.12);
      cursor:pointer;
      transition:transform .25s,border .25s;
    }
    .card img{
      width:100%;
      height:var(--card-size);
      object-fit:cover;
      border-radius:12px;
    }

    /* —Å–ø–∏—Å–æ–∫ –∏–º—ë–Ω */
    #names{
      display:flex;
      flex-wrap:wrap;
      justify-content:center;
      gap:12px;
      max-width:800px;
      margin:0 auto;
    }
    .label{
      background:#fff;
      border-radius:12px;
      padding:10px 18px;
      box-shadow:0 2px 6px rgba(0,0,0,.12);
      cursor:pointer;
      transition:transform .25s,border .25s;
      font-size:1rem;
    }

    /* —Å–æ—Å—Ç–æ—è–Ω–∏—è */
    .selected{border:3px solid dodgerblue;transform:scale(1.05)}
    .correct{border:3px solid seagreen!important}
    .wrong{border:3px solid crimson!important}

    #message{margin-top:18px;font-weight:bold;font-size:1.1rem;min-height:1.2em}

    @media(max-width:500px){
      :root{--card-size:110px}
      .label{font-size:.9rem}
    }
  </style>
</head>
<body>
  <h1>–ù–∞–π–¥–∏ –∏–º—è –∫ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏</h1>
  <p class="subtitle">–ö–ª–∏–∫–Ω–∏—Ç–µ —Å–Ω–∞—á–∞–ª–∞ –ø–æ —Ñ–æ—Ç–æ, –∑–∞—Ç–µ–º –ø–æ –ø–æ–¥—Ö–æ–¥—è—â–µ–º—É –∏–º–µ–Ω–∏</p>

  <div id="photos"></div>
  <div id="names"></div>
  <p id="message"></p>

<script>
  const inputFolder='input_photos';
  const imageFilenames=[
    "–Æ—Ä–∞ –ì–∞–ª–∏—à–Ω–∏–∫–æ–≤.jpeg","–Æ–ª—è –¶—É—Ä–∫–∞–Ω.jpeg","–Æ–ª—è –ö–ª–∞–ø–∞—Ç—é–∫.jpeg","–°–µ—Ä–µ–∂–∞ –ì—Ä–∏–≥–æ—Ä—å–µ–≤.jpeg","–†–æ–º–∞ –Ø–Ω—Ü–µ—Ä.jpeg","–ü–æ–ª–∏–Ω–∞ –î–æ–≤–Ω–æ—Ä–æ–≤–∏—á.jpeg","–ù–∏–∫–∏—Ç–∞ –§–∏–ª–∏–ø–ø–æ–≤.jpeg","–ù–∞—Ç–∞—à–∞ –ö—É—Ç—É–∫–æ–≤–∞.jpeg","–ù–∞—Å—Ç—è –ö–∞–Ω–µ–≤–∞.jpeg","–ù–∞—Å—Ç—è –ê–Ω–æ—Å–æ–≤–∞.jpeg","–ú–∞—à–∞ –•–∞—Ä–ª–∞–º–æ–≤–∞.jpeg","–ú–∞—à–∞ –û–≤—á–∏–Ω–Ω–∏–∫–æ–≤–∞.jpeg","–ú–∞–∫—Å–∏–º –ú–∞—Ç–∏–µ–Ω–∫–æ.jpeg","–ú–∞–∫—Å–∏–º –ê—Ä—Ç–µ–º–æ–≤.jpeg","–õ—é–±–∞–≤–∞ –ö–∞—à–∏–Ω–∞.jpeg","–ö—Å—é—à–∞ –ö—É—Ä–¥–∑—é–∫.jpeg","–ö—Ä–∏—Å—Ç–∏–Ω–∞ –§–∏–ª–∏–ø–ø–æ–≤–∞.jpeg","–ö—Ä–∏—Å—Ç–∏–Ω–∞ –§–∏–ª–∏–º–æ–Ω–æ–≤–∞.jpeg","–ö–∏—Ä–∏–ª–ª –°—É—Ö–æ–≤.jpeg","–ò–ª—å—è –õ–∞–∑–∞—Ä–µ–≤.jpeg","–ï–≤–∞ –£—Å—Ç—é–≥–æ–≤–∞.jpeg","–î–∞—à–∞ –î–æ—Ä–æ–Ω–∏–Ω–∞.jpeg","–î–∞–Ω—è –ê–ª–µ–ø–µ–Ω–∫–æ–≤.jpeg","–ì—É–∑—è –ì–∏–ª—å–º—É—Ç–¥–∏–Ω–æ–≤–∞.jpeg","–í–∏–∫–∞ –ò–Ω—å–∫–æ–≤–∞.jpeg","–ê—Ä–∏—à–∞ –ü–∞–Ω—á—É–ª.jpeg","–ê–ª–µ–Ω–∞ –¢—Ä–µ—Ç—å—è–∫–æ–≤–∞.jpeg"
  ];
  const people=imageFilenames.map(f=>f.replace(/\.jpe?g$/i,''));

  const photosEl=document.getElementById('photos');
  const namesEl=document.getElementById('names');
  const msgEl=document.getElementById('message');

  let selPhoto=null,selName=null,matched=0;

  function shuffle(a){for(let i=a.length-1;i>0;i--){const j=Math.floor(Math.random()*(i+1));[a[i],a[j]]=[a[j],a[i]]}}

  function createPhotoCard(name){
    const d=document.createElement('div');d.className='card';d.dataset.name=name;
    const img=new Image();img.src=`${inputFolder}/${name}.jpeg`;img.alt=name;d.append(img);
    d.onclick=()=>select(d,'photo');return d;
  }
  function createNameLabel(name){
    const d=document.createElement('div');d.className='label';d.textContent=name;d.dataset.name=name;
    d.onclick=()=>select(d,'name');return d;
  }

  function select(el,type){
    if(type==='photo'){
      selPhoto&&selPhoto.classList.remove('selected');selPhoto=el;el.classList.add('selected');
    }else{
      selName&&selName.classList.remove('selected');selName=el;el.classList.add('selected');
    }
    if(selPhoto&&selName){
      const n1=selPhoto.dataset.name,n2=selName.dataset.name;
      if(n1===n2){
        [selPhoto,selName].forEach(e=>{e.classList.add('correct');e.style.pointerEvents='none'});
        matched++;msgEl.textContent=`‚úÖ –í–µ—Ä–Ω–æ: ${n1}`;
      }else{
        [selPhoto,selName].forEach(e=>e.classList.add('wrong'));
        msgEl.textContent='‚ùå –ù–µ–≤–µ—Ä–Ω–∞—è –ø–∞—Ä–∞';
        setTimeout(()=>[selPhoto,selName].forEach(e=>e.classList.remove('wrong','selected')),800);
      }
      selPhoto=selName=null;
      if(matched===people.length)msgEl.textContent='üéâ –í—Å–µ –ø–∞—Ä—ã –Ω–∞–π–¥–µ–Ω—ã!';
    }
  }

  shuffle(people);people.forEach(p=>photosEl.appendChild(createPhotoCard(p)));
  shuffle(people);people.forEach(p=>namesEl.appendChild(createNameLabel(p)));
</script>
</body>
</html>
